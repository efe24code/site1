<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DevTool Lite</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
body { background:#0f172a; color:#e2e8f0; font-family:'Inter',sans-serif; }
.card { transition:.15s; cursor:pointer; border-radius:.75rem; background:#1e293b; padding:1rem; text-align:center; }
.card:hover { transform:scale(1.03); box-shadow:0 5px 20px rgba(0,0,0,0.5);}
textarea,input,select{background:#0f172a;border:1px solid #1e293b;color:#e2e8f0;font-family:'JetBrains Mono',monospace;border-radius:.5rem;padding:.5rem;width:100%;transition:.2s}
textarea:focus,input:focus,select:focus{border-color:#2563eb;outline:none;box-shadow:0 0 0 3px rgba(37,99,235,0.3)}
pre{background:#020617;padding:.5rem;border-radius:.5rem;overflow-x:auto;font-family:'JetBrains Mono',monospace;font-size:13px}
.btn{background:#2563eb;color:white;font-weight:600;padding:.5rem 1rem;border-radius:.5rem;margin-top:.5rem;display:inline-block;transition:.2s}
.btn:hover{background:#1d4ed8;transform:scale(1.02);}
</style>
</head>
<body>

<div class="max-w-6xl mx-auto p-6">
<h1 class="text-3xl font-bold mb-2">‚ö° DevTool Lite</h1>
<p class="text-slate-400 mb-6">Developer Tools + Multi-language docs</p>

<input id="search" placeholder="Search tool..." class="mb-6 p-3 rounded-md bg-gray-900 border border-gray-700 focus:ring-2 focus:ring-blue-500 w-full">

<div id="app"></div>
</div>

<script src="./tools.js"></script>
<script>
const app=document.getElementById("app")
let activeTool=null
let activeLang='js'

function router(){
  const hash=location.hash
  if(!hash||hash==="#/"){ renderHome(); return }
  if(hash.startsWith("#/tool/")) renderTool(hash.replace("#/tool/",""))
  else renderHome()
}

function renderHome(){
  app.innerHTML='<div class="grid grid-cols-2 md:grid-cols-4 gap-4">'+
  DEVTOOLS.tools.map(t=>`<a href="#/tool/${t.id}" class="card">
    <div class="text-3xl mb-2">${t.icon}</div>
    <div class="font-semibold">${t.name}</div>
    <div class="text-xs text-slate-400">${t.cat}</div>
  </a>`).join('')+'</div>'
}

function renderTool(id){
  const t=DEVTOOLS.logic[id]
  if(!t){app.innerHTML="Tool not found"; return}
  activeTool=id
  app.innerHTML=`<a href="#/" class="text-blue-400">‚Üê back</a>
  <h2 class="text-2xl font-bold mt-3">${t.name}</h2>
  <div class="grid md:grid-cols-2 gap-6 mt-4">
    <div class="bg-slate-900 p-4 rounded-xl flex flex-col gap-3">
      ${t.ui}
      <div class="flex gap-2 items-center">
        <button class="btn" onclick="DEVTOOLS.logic['${id}'].run()">RUN</button>
        <select id="langSelect" class="bg-gray-800 text-white rounded-md p-2">
          <option value="js">JavaScript</option>
          <option value="py">Python</option>
          <option value="php">PHP</option>
          <option value="bash">Bash</option>
        </select>
        <button class="btn" onclick="copyCode()">COPY</button>
      </div>
      <pre id="codeDisplay">${t.code[activeLang]}</pre>
    </div>
    <div class="bg-slate-900 p-4 rounded-xl">
      <h3 class="font-semibold mb-2">üìò Docs / Usage</h3>
      <pre class="text-xs whitespace-pre-wrap">${t.docs}</pre>
    </div>
  </div>`
  const selectLang=document.getElementById("langSelect")
  selectLang.value=activeLang
  selectLang.addEventListener("change",e=>{
    activeLang=e.target.value
    updateCodeDisplay()
  })
}

function updateCodeDisplay(){
  if(!activeTool) return
  const c=DEVTOOLS.logic[activeTool].code[activeLang]||"// Not available"
  document.getElementById("codeDisplay").innerText=c
}

function copyCode(){
  navigator.clipboard.writeText(document.getElementById("codeDisplay").innerText)
  alert("Code copied!")
}

window.addEventListener("hashchange",router)
document.getElementById("search").addEventListener("input",()=>{
  const q=document.getElementById("search").value.toLowerCase()
  const filtered=DEVTOOLS.tools.filter(t=>t.name.toLowerCase().includes(q))
  app.innerHTML='<div class="grid grid-cols-2 md:grid-cols-4 gap-4">'+
  filtered.map(t=>`<a href="#/tool/${t.id}" class="card">
    <div class="text-3xl mb-2">${t.icon}</div>
    <div class="font-semibold">${t.name}</div>
    <div class="text-xs text-slate-400">${t.cat}</div>
  </a>`).join('')+'</div>'
})
router()
</script>

</body>
</html>
